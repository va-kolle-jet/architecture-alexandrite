1. Мотивация
- работа на упразднение проблем. Сейчас проблемы решаются после того как появился негативный инцидент со стороны клиента. Это негативно сказывается на репутации компании. включение мониторинга позволит выявлять узкие места на более ранних этапах. как следствие повысит качество работы системы
- помимо качества работы системы также можно будет провести анализ и выявление мест с наименьшей скоростью работы для дальнейшего сфокусированной оптимизации работы системы, что позитивно повлияет на привлечение потенциальных клиентов и создание ситуации о возврате текущих клиентов

2. Выбор подхода к мониторингу
- RED - для всех http взаимодействий (eshop, crm, mes api). Понимаем частоту ощшибок, длительность ответов
- USE - для MES сервиса. Этот сервис остро нуждаетса в понимании потреблении ресурсов

3. Отслеживаемые метрики:
- Number of requests (RPS) for internet shop API - Анализ нагрузки на API магазина. Ярлыки: service, endpoint, method, params
- Number of requests (RPS) for CRM API - Анализ нагрузки на API CRM. Ярлыки: service, endpoint, method, params
- Number of requests (RPS) for MES API - Анализ нагрузки на API MES. Ярлыки: service, endpoint, method, params

- Response time (latency) for shop API - Выявление медленных API. Ярлыки: service, endpoint, http_status_code
- Response time (latency) for MES API - Выявление медленных API. Ярлыки: service, endpoint, http_status_code

- Number of HTTP !200 for shop API - Анализ появления ошибок системы. Ярлыки: service, endpoint, status_code
- Number of HTTP !200 for CRM API - Анализ появления ошибок системы. Ярлыки: service, endpoint, status_code
- Number of HTTP !200 for MES API - Анализ появления ошибок системы. Ярлыки: service, endpoint, status_code

- CPU % for MES API - Анализ нагрузки процессора нагружает процессор. Ярлыки: instance, service
- Memory Utilisation for MES API - Анализ утилизации ресурсов памяти. Ярлыки: instance, service 
- Memory Utilisation for shop db instance - Анализ утилизации ресурсов памяти.  Ярлыки: db_instance
- Size of S3 storage Анализ утилизации HDD|SSD памяти системы. Ярлыки: bucket, region
- Number of messages in flight in RabbitMQ - Анализ накопления очереди на обработку сообщений. Ярлыки: queue_name, routing_key

4. План действий
Мониторинг:
- Установка и настройка работы Prometheus + Grafana
- Настройка экспортирования метрик со стороны системы
- Настройка дашбордов на стороне Grafana
- Настройка аллертов на стороне Grafana

Логирование:
- Установка и настройка работы ELK-стека
- Создание дашбордов в разрезе компонентов системы